<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja" dir="ltr">
<head>
	<title>日本PHPユーザ会 掲示板: PHP事はじめ &raquo; ランダム表示させたデータを次のページで表示させたい</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="description" content="日本PHPユーザ会運営の掲示板です。※ただいまテスト運用中です。" />
	<meta name="keywords" content="php,web,php.gr.jp,community,usebb" />
	<link rel="stylesheet" type="text/css" href="./templates/phpgrjp0.3/styles.css" />
	<link rel="shortcut icon" href="./templates/phpgrjp0.3/gfx/usebb.ico" />
	<link rel="alternate" type="application/rss+xml" title="日本PHPユーザ会 掲示板 RSS フィード" href="rss.xml" />
	<script type="text/javascript" src="sources/javascript.js"></script>
</head>
<body onload="javascript:init_external()">
	<div id="pagebox-bg">
	<div id="shadow-left">
	<div id="shadow-right">
	
	<p id="logo"><a href="index.html"><img src="./templates/phpgrjp0.3/gfx/usebb.png" alt="UseBB" title="ホーム" /></a></p>
	<h1 id="boardname"><span id="line">日本PHPユーザ会 掲示板</span></h1>
	<h2 id="boarddescr">日本PHPユーザ会運営の掲示板です。※ただいまテスト運用中です。</h2>
	
	<div id="topmenu"><ul>
		<li><a href="index.html">ホーム</a></li><li><a href="panel-register.html">登録</a></li><li><a href="faq.html">FAQ</a></li><li><a href="search.html">検索</a></li><li><a href="active.html">活発なトピック</a></li><li><a href="panel-login.html">ログイン</a></li>
	</ul></div>
	<div id="topmenu-shadow"></div>
	
	<p class="locationbar">
		&bull; <a href="index.html">日本PHPユーザ会 掲示板</a> &raquo; <a href="forum-2.html">PHP事はじめ</a> &raquo; ランダム表示させたデータを次のページで表示させたい
	</p>

	<h3 id="forumname"><a href="topic-247.html">ランダム表示させたデータを次のページで表示させたい</a></h3>
	<p id="forummods"></p>
	<p id="toolbartop"> </p>
	<p id="pagelinkstop">ページ: 1</p>
	<table class="maintable">
		<tr>
			<th>投稿者</th>
			<th>投稿</th>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-359.html">jak</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post707.html#post707" name="post707" rel="nofollow">#1</a> 2010 年 10 月 21 日(木) 11:58</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 10 2010</div>
				<div class="field">返信数: 3</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">はじめまして、文章を読んで難易度を登録するサイトを作成しております。<br />ランダムでデータを表示させるとこまではできたのですが、IDとTITLEを次のページに表示させ、確認画面のようなものを作成したく、require_once 'reading.php';print &quot;textid&quot;;print &quot;title&quot;;<br />でやってみたのですがうまくいきませんでした。<br /><br /><pre class="code"> &#36;con = mysql_connect(&#36;DBSERVER, &#36;DBUSER, &#36;DBPASSWORD);<br />  mysql_query(&quot;set names ujis&quot;);<br />  &#36;selectdb = mysql_select_db(&#36;DBNAME);<br />  &#36;sql = &quot;SELECT * from text order by Rand() limit 1&quot;;<br />  &#36;rst = mysql_query(&#36;sql);<br />  &#36;body .= &quot;&lt;TABLE border='1'&gt;<br />            &lt;TR&gt;<br />              &lt;TH&gt;ID&lt;/TH&gt;<br />              &lt;TH&gt;title&lt;/TH&gt;<br />              &lt;TH&gt;text&lt;/TH&gt;             <br />            &lt;/TR&gt;&quot;;<br />   while (&#36;col = mysql_fetch_array(&#36;rst)) &#123;<br />    &#36;body .= &quot;&lt;TR&gt;&quot; .<br />                &quot;&lt;TD&gt;&#36;col&#91;textid&#93;&lt;/TD&gt;&quot; .<br />                &quot;&lt;TD&gt;&#36;col&#91;title&#93;&lt;/TD&gt;&quot; .<br />                &quot;&lt;TD&gt;&#36;col&#91;text&#93;&lt;/TD&gt;&quot; .               <br />              &quot;&lt;/TR&gt;&quot;;<br />  &#125;<br />  &#36;body .= &quot;&lt;/TABLE&gt;&quot;;<br />    mysql_free_result(&#36;rst);<br />   &#36;con = mysql_close(&#36;con);</pre><br /><br /><pre class="code">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;<br />&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;jp&quot; lang=&quot;jp&quot;&gt;<br />&lt;head&gt;<br />	&lt;meta http-equiv=&quot;Content-Style-Type&quot; content=&quot;text/css&quot; /&gt;<br />	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;<br />	&lt;title&gt;test&lt;/title&gt;<br />	&lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot; /&gt;<br />&lt;/head&gt;<br />&lt;BODY&gt;<br />&lt;?=&#36;body?&gt;<br />&lt;form action=&quot;grade2.php&quot; method=&quot;post&quot; &gt;<br />&lt;td&gt;<br />&lt;table border=&quot;0&quot; cellpadding=&quot;2&quot; cellspacing=&quot;3&quot; class=&quot;tablehead&quot;&gt;<br />&lt;tr&gt;<br />&lt;td class=&quot;tdtitle&quot;&gt;<br />Rating&lt;a href=&quot;#&quot; onMouseOver=&quot;showmeaning(3)&quot;&gt;[?]&lt;/a&gt;<br />&lt;/td&gt;<br />&lt;/tr&gt;<br />&lt;tr&gt;<br />&lt;td class=&quot;tdtext&quot;&gt;<br /><br />&lt;select name=&quot;rating&quot;&gt;<br />&lt;option value=&quot;0&quot;&gt;0&lt;/option&gt;<br />&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;<br />&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;<br />&lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;<br />&lt;option value=&quot;4&quot;&gt;4&lt;/option&gt;<br />&lt;option value=&quot;5&quot;&gt;5&lt;/option&gt;<br />&lt;/select&gt;<br />           &lt;input type=&quot;submit&quot; value=&quot;解答する&quot; /&gt;<br />&lt;/td&gt;<br />&lt;/tr&gt;<br />&lt;/table&gt;<br /><br />&lt;/td&gt;<br />&lt;/tr&gt;<br />&lt;/table&gt;<br />		&lt;/form&gt;<br />&lt;/BODY&gt;<br />&lt;/html&gt;</pre><br /><br />表示をさせたいページ<br /><pre class="code">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;<br />&lt;HTML&gt;<br />&lt;HEAD&gt;<br />&lt;META http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=EUC-JP&quot;&gt;<br />&lt;META http-equiv=&quot;Content-Style-Type&quot; content=&quot;text/css&quot;&gt;<br />&lt;TITLE&gt;RATING&lt;/TITLE&gt;<br />&lt;/HEAD&gt;<br />&lt;BODY&gt;<br />&lt;?php<br />require_once 'reading.php';<br />print &quot;textid&quot;;<br />print &quot;title&quot;;<br />?&gt;<br />&lt;TABLE border=&quot;1&quot;&gt;<br />  &lt;TBODY&gt;<br />    &lt;TR&gt;<br />      &lt;TD&gt;ID&lt;/TD&gt;<br />      &lt;TD&gt;&lt;?=&#36;_POST&#91;textid&#93;?&gt;&lt;/TD&gt;<br />    &lt;/TR&gt;<br />    &lt;TR&gt;<br />      &lt;TD&gt;TITLE&lt;/TD&gt;<br />      &lt;TD&gt;&lt;?=&#36;_POST&#91;title&#93;?&gt;&lt;/TD&gt;<br />    &lt;/TR&gt;<br />    &lt;TR&gt;<br />      &lt;TD&gt;RATING&lt;/TD&gt;<br />      &lt;TD&gt;&lt;?=&#36;_POST&#91;rating&#93;?&gt;&lt;/TD&gt;<br />    &lt;/TR&gt;<br />  &lt;/TBODY&gt;<br />&lt;/TABLE&gt;<br />&lt;/BODY&gt;<br />&lt;/HTML&gt;<br /></pre><br /><br />独学で始め、サンプルなどを利用しながらやっておりますが、周りに相談できる人もおらず、ぜひともアドバイスをいただきたいと思い書かせていただきました。これを使えば表示できる、というようなものがありましたらよろしくお願いします。</div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-246.html">nulla</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post708.html#post708" name="post708" rel="nofollow">#2</a> 2010 年 10 月 21 日(木) 17:07</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 8 2009</div>
				<div class="field">返信数: 103</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">こんにちは。<br /><br />&gt; でやってみたのですがうまくいきませんでした。<br />どううまくいかないのか明記してください。<br /><br />3つソース提示されてますがそれぞれのファイル名がわかりません。<br /><br />javascriptのshowmeaning(3)の動作がわかりません。<br />（おそらく意味をオーバレイかなにかで表示するのでしょうけれど）<br /><br />現象を再現できるように提示してくれないと検証のしようがなく回答もできませんよ。</div>
			</td>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-359.html">jak</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post709.html#post709" name="post709" rel="nofollow">#3</a> 2010 年 10 月 21 日(木) 22:49</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 10 2010</div>
				<div class="field">返信数: 3</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">ご指摘ありがとうございます。<br />１つめと２つめのコードは1つのファイル（reading.php）で、phpとhtmlの部分を分けてあります。3つ目のソース（grade2.php）はreading.phpで選択した数字を表示させるためのものです。<br /><br /><a href="http://joho.cher-ish.net/test/reading.php" title="http://joho.cher-ish.net/test/reading.php" rel="external">http://joho.cher-ish.net/test/reading.php</a><br /><br />require_once 'reading.php';print &quot;textid&quot;;print &quot;title&quot;;でうまくいかなかったのは、3つ目のソースの9~13行目に入れてみて、本来は表の中に前のページで表示されたtextidとtitleをそれぞれ入れたいのですが、新たにランダムでデータが表示されてしまいます。<br /><br />showmeaning(3)はもともとあったテンプレートのものが残っていて今回のページでは必要ないのかもしれません。<br />説明不足で申し訳ありませんでした。<div class="editinfo">&laquo; 最終編集者 <a href="profile-359.html">jak</a> 日時 2010 年 10 月 21 日(木) 22:52. &raquo;</div></div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-246.html">nulla</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post710.html#post710" name="post710" rel="nofollow">#4</a> 2010 年 10 月 22 日(金) 13:07</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 8 2009</div>
				<div class="field">返信数: 103</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">こんにちは。<br />&gt; require_once 'reading.php';print &quot;textid&quot;;print &quot;title&quot;;でうまくいかなかったのは、<br />&gt; 3つ目のソースの9~13行目に入れてみて、本来は表の中に前のページで<br />&gt; 表示されたtextidとtitleをそれぞれ入れたいのですが、<br />&gt; 新たにランダムでデータが表示されてしまいます。<br /><br />reading.phpはランダムにデータを取り出して表示するので、それを取り込んだら<br />またランダムに表示されるのはあたりまえです。<br /><br />reading.phpで取得した値（textid, title, rating）をpostでgrade2.phpに送信し表示させてください。<br /><br /># grade2.phpに&#36;_POST[textid]とありますがpost送信する方法がわからないのでしょうか？<br /><br /><br /># grade2.phpからrequire_once 'reading.php';するのはおかしいと気づきましょう。<br /># DOCTYPEなど入れ子になってますよ。<br /># それと文字コードを統一しましょう。（utf-8からeuc-jpになってる理由がわからない）</div>
			</td>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-359.html">jak</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post712.html#post712" name="post712" rel="nofollow">#5</a> 2010 年 10 月 25 日(月) 22:10</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 10 2010</div>
				<div class="field">返信数: 3</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">こんばんは。<br />（textid, title, rating）をpostで送信<br />&lt;form action=&quot;grade2.php&quot; method=&quot;post&quot; &gt;<br />grade2.phpで表示させることができました。<br />気づかなかったところもわかることができ、これからもっと勉強していこうと思います。<br />ありがとうございました、またよろしくおねがいします。</div>
			</td>
		</tr>

	</table>
	<p id="toolbarbottom"> </p>
	<p id="pagelinksbottom">ページ: 1</p>
	<div id="bottomfix"></div>
	<p id="actionlinks"></p>

	<p class="locationbar">
		&bull; <a href="index.html">日本PHPユーザ会 掲示板</a> &raquo; <a href="forum-2.html">PHP事はじめ</a> &raquo; ランダム表示させたデータを次のページで表示させたい
	</p>
	
	<p id="linkbar">
		<a href="members.html">会員一覧</a> &middot; <a href="members-staff.html">スタッフ一覧</a> &middot; <a href="rss.xml" id="rss-feed-icon"><img src="templates/phpgrjp0.3/gfx/rss.png" alt="RSS フィード" /></a><a href="rss.xml">RSS フィード</a>  &middot; <a href="mailto:webstaff@php.gr.jp">管理者へ連絡</a>
	</p>
	
	
	
	
	<p id="bottom">
		日本PHPユーザ会 掲示板 は <a href="http://www.usebb.net">UseBB 1 フォーラムソフトウェア</a> を使用しています
	</p>
	<div id="bottom-shadow"></div>
	
	</div>
	</div>
	</div>
</body>
</html>