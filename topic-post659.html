<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja" dir="ltr">
<head>
	<title>日本PHPユーザ会 掲示板: PHP事はじめ &raquo; PHPがCGIモードのサーバでもLast-Modifiedを取得するには？</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="description" content="日本PHPユーザ会運営の掲示板です。※ただいまテスト運用中です。" />
	<meta name="keywords" content="php,web,php.gr.jp,community,usebb" />
	<link rel="stylesheet" type="text/css" href="./templates/phpgrjp0.3/styles.css" />
	<link rel="shortcut icon" href="./templates/phpgrjp0.3/gfx/usebb.ico" />
	<link rel="alternate" type="application/rss+xml" title="日本PHPユーザ会 掲示板 RSS フィード" href="rss.xml" />
	<script type="text/javascript" src="sources/javascript.js"></script>
</head>
<body onload="javascript:init_external()">
	<div id="pagebox-bg">
	<div id="shadow-left">
	<div id="shadow-right">
	
	<p id="logo"><a href="index.html"><img src="./templates/phpgrjp0.3/gfx/usebb.png" alt="UseBB" title="ホーム" /></a></p>
	<h1 id="boardname"><span id="line">日本PHPユーザ会 掲示板</span></h1>
	<h2 id="boarddescr">日本PHPユーザ会運営の掲示板です。※ただいまテスト運用中です。</h2>
	
	<div id="topmenu"><ul>
		<li><a href="index.html">ホーム</a></li><li><a href="faq.html">FAQ</a></li><li><a href="active.html">活発なトピック</a></li>
	</ul></div>
	<div id="topmenu-shadow"></div>
	
	<p class="locationbar">
		&bull; <a href="index.html">日本PHPユーザ会 掲示板</a> &raquo; <a href="forum-2.html">PHP事はじめ</a> &raquo; PHPがCGIモードのサーバでもLast-Modifiedを取得するには？
	</p>

	<h3 id="forumname"><a href="topic-234.html">PHPがCGIモードのサーバでもLast-Modifiedを取得するには？</a></h3>
	<p id="forummods"></p>
	<p id="toolbartop"> </p>
	<p id="pagelinkstop">ページ: 1</p>
	<table class="maintable">
		<tr>
			<th>投稿者</th>
			<th>投稿</th>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-347.html">whatsthestory</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post659.html#post659" name="post659" rel="nofollow">#1</a> 2010 年 9 月 2 日(木) 18:10</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 9 2010</div>
				<div class="field">返信数: 17</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">sitemap.xmlやrss.xmlを自動で生成するWindowsにインストールするタイプのソフトを使っており、これを使い続けたい状況です。<br /><br />しかし、問題があって使えない状況になってしまいました。それを再び使える状態にしたいです。<br /><br />●Webサイトを.htmlではなく、.phpで制作<br />●共通部分を外部.phpファイル化しています<br />●上述のソフトで生成されたファイルを開くと、更新した日が一番上にくるはずなのにそうならず、<br />　よく見ると、全てのページの更新日時が同じになっている。<br />　これでは更新順にページが並ばず、まるでウソのRSSファイルになってしまう。<br /><br />●ソフトはWebサーバからでもローカルからでも更新日時を取得できるが、事情あってローカルはダメ。<br /><br />●Webサーバから取得しようとすると取得できない。<br />　Last-Modifiedで更新日時を取得しているソフトだそうだが、製作者いわく、サーバがモジュールモードならば.htaccessに一行追加するだけで再び使えるようになると。<br />　が、利用サーバはCGIモード。<br /><br />PHPがCGIモードのサーバでも、自動生成ソフトが再び使えるようになる方法が何かないでしょうか？<br />「トップページと同じ階層に○○と記述した.phpファイルをアップすればできるよ」<br />など、何か方策あると大変大変助かります。<br />プログラミングは全くの初心者ですが何卒宜しくお願い致します。<div class="editinfo">&laquo; 最終編集者 <a href="profile-347.html">whatsthestory</a> 日時 2010 年 9 月 2 日(木) 18:18. &raquo;</div></div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-246.html">nulla</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post660.html#post660" name="post660" rel="nofollow">#2</a> 2010 年 9 月 2 日(木) 22:57</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 8 2009</div>
				<div class="field">返信数: 103</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">こんばんは、<br />取り急ぎレスポンスしますが、phpからhttpヘッダーでLast-Modifiedを明示的に返すようにしてみてはどうでしょう？</div>
			</td>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-347.html">whatsthestory</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post661.html#post661" name="post661" rel="nofollow">#3</a> 2010 年 9 月 3 日(金) 7:26</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 9 2010</div>
				<div class="field">返信数: 17</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">nullaさま、ありがとうございます！<br /><br />済みませんがおっしゃってることが、いったい何をどうすればいいのかプログラミング初心者なので何もわかりませんでした。<br />検索しても出ないのですが、ひとつ見つけたサイトで、<br /><br /><a href="http://dara-j.asablo.jp/blog/cat/php/?offset=10" title="http://dara-j.asablo.jp/blog/cat/php/?offset=10" rel="external">http://dara-j.asablo.jp/blog/cat/php/?offset=10</a><br /><br />以下のような記載がありました。<br /><br />「Last-Modified = &quot;Last-Modified&quot; &quot;:&quot; HTTP-date」<br /><br />すでに記載したとおり、当方の状況の場合、<br />●ソフトを使い続けるようにするのが目的<br />●当然ソフト自体を改造することはできない<br />●PHPファイルや他のファイル等、Webサーバにアップロードするファイルに何か仕込む的な手法を想像している<br /><br />こんな感じなのですが、上述の、<br /><br />「Last-Modified = &quot;Last-Modified&quot; &quot;:&quot; HTTP-date」<br /><br />を、外部化・共通化した.phpファイル（例：sidebar.php。サイドバーの個所だけが記載された外部ファイル。サイドバーのページリンクを増やしたり、変更・削除がここをいじるだけで終了できる）の冒頭に記述するとかでしょうか？？<br /><br />初心者なため、記述してサーバが壊れてサイトが表示されなくでもなったら恐ろしいことになるので、わからず試すのも無理がありまして・・・<br /><br />済みません、書いてあることを具体的にどうやればよいのかまるで知らないので、たぶん見当違いとは思いますが自分で調べるとこんな感じくらいしか思いつきませんでした。<br />もしよろしかったら、何のファイルにどうやれば良いか教えていただけましたらとても助かります。</div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-246.html">nulla</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post662.html#post662" name="post662" rel="nofollow">#4</a> 2010 年 9 月 3 日(金) 8:45</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 8 2009</div>
				<div class="field">返信数: 103</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">おはようございます。<br /><br />sidebar.phpの上部辺りに<br />&lt;?php<br /><br />&#36;mtime = filemtime(&#36;_SERVER[&quot;ORIG_PATH_TRANSLATED&quot;]);<br />header(&quot;Last-Modified: &quot; . gmdate(&quot;D, d M Y H:i:s&quot;, &#36;mtime) . &quot; GMT&quot;);<br /><br />?&gt;<br /><br />httpレスポンスヘッダを確認してみてください。<br />Last-Modifiedがあるはずです。</div>
			</td>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-347.html">whatsthestory</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post663.html#post663" name="post663" rel="nofollow">#5</a> 2010 年 9 月 3 日(金) 10:46</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 9 2010</div>
				<div class="field">返信数: 17</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">nulla様、申し訳ないです、私の無知により説明が悪かった気がしております。それの補足説明と、やってみての結果をお伝えします。<br /><br />(1)説明が悪かったので補足<br />バカでした。サイドバーの外部ファイルでsidebar.phpとすればわかりやすくなると思ったのですが、見当違いでした。<br />あくまでも更新日時を取得したいのは、「公開した新たに製作したページや、すでにあるページを編集・上書きしたページ」ですから、<br />サイドバーではなかったです。サイドバーが実際に更新されるのは「常にではない」のが正しいのに。<br /><br />なので、更新したかどうかを知らせたいファイルというのは、<br />●外部ファイルではない大元の.phpファイル。例：製品Fのページを新たに公開したのなら、/item/item-f/index.php<br />●更新されたことを知らせたい外部ファイル。例：製品Fのページに直接記述せず、使い回しできるように外部ファイル化している、「製品A～製品F」をゆききするサブリンクボタンの部分だけが記述されている外部ファイル。<br /><br />ということだとやっと理解しました。<br /><br /><br /><br /><br />(2)　ということで以下のようにやってみましたが、ページを更新するとエラーメッセージのようなものが出ました。<br /><br />●sidebar.phpは関係ないと理解できたので、新たに公開した製品Fの.phpページの以下の場所に教えていただいたソースを入れた<br />------------------------------------------------------<br />&lt;?php echo &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&quot;; ?&gt;<br />&lt;?php<br /><br />&#36;mtime = filemtime(&#36;_SERVER[&quot;ORIG_PATH_TRANSLATED&quot;]);<br />header(&quot;Last-Modified: &quot; . gmdate(&quot;D, d M Y H:i:s&quot;, &#36;mtime) . &quot; GMT&quot;);<br /><br />?&gt;<br />&lt;?php include_once(&quot;../../cmn/inc/doctype.php&quot;); ?&gt;<br />&lt;head&gt;<br />&lt;?php include_once(&quot;../../cmn/inc/head.php&quot;); ?&gt;<br />------------------------------------------------------<br /><br /><br />●そのうえで該当URLを開いたら、ページデザインの一番上に以下のようなメッセージが出た<br />------------------------------------------------------<br />Warning: Cannot modify header information - headers already sent by (output started at /serverpass/www//rentalserver/myid/mysite.com/item/item-f/index.php:1) in /serverpass/www/rentalserver/myid/mysite.com/item/item-f/index.php on line 6<br />------------------------------------------------------<br /><br />「headerはすでに送っているぞ」<br />とは、Last-Modifiedと何の関係があるのかな・・・・<br /><br />ご迷惑おかけしております・・・・・・</div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-246.html">nulla</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post664.html#post664" name="post664" rel="nofollow">#6</a> 2010 年 9 月 3 日(金) 11:59</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 8 2009</div>
				<div class="field">返信数: 103</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">&gt; (1)説明が悪かったので補足<br />そのことは考慮済です。<br />include_once()で取り込む時点でindex.php(外部ファイルではない大元のphpファイル)のLast-Modifiedを返します。<br />sidebar.phpでなくとも別のファイルに記述しておけばいいと思います。<br /><br />&gt; (2)<br />&gt; &lt;?php echo &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&quot;; ?&gt;<br />内容を送出した後なのでヘッダは送れなくなるのですよ。<br />これより上に記述するかinclude_once()してみてください。</div>
			</td>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-347.html">whatsthestory</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post665.html#post665" name="post665" rel="nofollow">#7</a> 2010 年 9 月 3 日(金) 14:25</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 9 2010</div>
				<div class="field">返信数: 17</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">ありがとうございます。<br /><br />&gt; そのことは考慮済みです<br /><br />なんと！　そこまで考えていただいたいたのですか・・・<br />ありがとうございます。<br /><br /><br />&gt; これより上に記述するかinclude_once()してみてください。<br /><br />include_once()のほうは、例えば「last-mod.php」などとして外部ファイル化し、そこにご案内のソースを入れる、<br />ということだと理解しました。そうやってもいいんですね。<br /><br /><br />そういうことだったのか、ということでひとまず「これより上に記述」のほうでやってみました。要は一番最初にもってきたことになりました。<br />index.phpという大元ファイルの。<br /><br />そうしましたところ、ソフトを起動して「Webサイトから取得」をやってみましたところ、確かにこのindex.phpのファイルだけ更新日時が変わりました。<br />しかし、なんででしょうか・・・・<br />1970-01-01<br />09:00:00<br />と出ました。<br />いじっていない他のすべての.phpは、相変わらず「Webサイトから取得」を実行した本日只今の日時が更新日時として出ていました。<br />ウ～ン・・・・なんで40年前の9時丁度に？？<br /><br />試しに、sidebar.phpの冒頭にも同じソースをアップした状態でやってもみましたが、<br />やはり結果は同じでした。<div class="editinfo">&laquo; 最終編集者 <a href="profile-347.html">whatsthestory</a> 日時 2010 年 9 月 3 日(金) 14:29. &raquo;</div></div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-246.html">nulla</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post666.html#post666" name="post666" rel="nofollow">#8</a> 2010 年 9 月 3 日(金) 14:49</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 8 2009</div>
				<div class="field">返信数: 103</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">環境に依存するようですね。<br />こちらではうまくいくのですが。<br /><br />&#36;mtime = filemtime(&#36;_SERVER[&quot;ORIG_PATH_TRANSLATED&quot;]);<br /><br />おそらく &#36;_SERVER[&quot;ORIG_PATH_TRANSLATED&quot;] の値がうまくとれていないのでしょう。<br />phpinfo()で PHP Variables の表をみてください。<br />その中に元のphpファイルをフルパスで指し示している環境変数があるはずです。<br />ORIG_PATH_TRANSLATED のかわりに使ってみてください。<br /><br />こちらでは _SERVER[&quot;SCRIPT_FILENAME&quot;] も同じ値です。</div>
			</td>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-347.html">whatsthestory</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post667.html#post667" name="post667" rel="nofollow">#9</a> 2010 年 9 月 3 日(金) 19:31</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 9 2010</div>
				<div class="field">返信数: 17</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">当方にプログラミングの知識がなく、何度もアドバイスいただくことになってしまっています。<br />ただただ感謝です。<br /><br />さて、意味自体がわからず探しましたが、ただ単にサーバにphp infoの呪文を書いた.phpファイルをアップして、それをブラウザで開けばValiablesの情報が勝手に出てくれる、というものなのですね！<br />やっと意味がわかってきました。<br />が、Valiablesっていっぱいあって、お指図のものがいったいどれなのかわからない状態でして、めぼしいものをやってみました。<br /><br />しかし妙なのです。ソフトで更新日時を取得実験しましたところ、<br />試したファイルだけが18:47となっていて、あとのファイルは実験した時間である19:02とかなっています。ただし、試していないさわっていないファイルもちょっとおかしくて、これまでは時間までまるで一緒だったのに、今回の実験ではひにちは今日になっているものの、時間が秒単位で微妙にズレています。<br /><br />今までは、すべてのファイルがどれも、ひにち・時間・秒まで同じだったんですが。。。<br /><br />Valiablesに書いてあったのは以下です。<br />※PHPRCとか、HOMEとか、固有っぽい情報は当然仮の情報に書き換えています。<br />　また、どうみても関係ないのもはぶいています。<br />　PHPRC、HOME、SCRIPT_FILENAMEは試したのですが・・・<br /><br />------------------------------------------------------<br />_SERVER[&quot;REDIRECT_STATUS&quot;]	1<br />_SERVER[&quot;PHPRC&quot;]	/www/jp/rentalserver/myid/mysite.com<br />_SERVER[&quot;HOME&quot;]	/www/jp/rentalserver/myid/mysite.com<br />_SERVER[&quot;PATH&quot;]	/usr/local/bin:/usr/bin:/bin<br />_SERVER[&quot;HTTP_HOST&quot;]	<a href="http://www.mysite.com" title="http://www.mysite.com" rel="external">www.mysite.com</a><br />_SERVER[&quot;SERVER_NAME&quot;]	<a href="http://www.mysite.com" title="http://www.mysite.com" rel="external">www.mysite.com</a><br />_SERVER[&quot;DOCUMENT_ROOT&quot;]	/export/cgi<br />_SERVER[&quot;SCRIPT_FILENAME&quot;]	/www/cgi/jp/www.mysite/phpinfo.php<br />_SERVER[&quot;GATEWAY_INTERFACE&quot;]	CGI/1.1<br />_SERVER[&quot;SERVER_PROTOCOL&quot;]	HTTP/1.1<br />_SERVER[&quot;REQUEST_METHOD&quot;]	GET<br />_SERVER[&quot;QUERY_STRING&quot;]	no value<br />_SERVER[&quot;REQUEST_URI&quot;]	/phpinfo.php<br />_SERVER[&quot;SCRIPT_NAME&quot;]	/phpinfo.php<br />_SERVER[&quot;PHP_SELF&quot;]	/phpinfo.php<br />_SERVER[&quot;REQUEST_TIME&quot;]	1283507279<br />------------------------------------------------------<br /><br />なんどもすみませんホントに......<div class="editinfo">&laquo; 最終編集者 <a href="profile-347.html">whatsthestory</a> 日時 2010 年 9 月 3 日(金) 20:40. &raquo;</div></div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-246.html">nulla</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post668.html#post668" name="post668" rel="nofollow">#10</a> 2010 年 9 月 5 日(日) 11:16</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 8 2009</div>
				<div class="field">返信数: 103</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">こんにちは。<br />最後の書き込みを読む限り齟齬があるのではと今までの記事を読み返しましたが<br />もう解決してるかあと一歩かもしれません。<br /><br />&gt; しかし妙なのです。ソフトで更新日時を取得実験しましたところ、<br />どのように記述したのか正確な情報がないので明確に説明できませんが、<br />Last-Modifiedを追加するためにファイルを保存したので<br />その保存した時間の更新日時が取得されていると考えられませんか？<br />「製品A～製品F」のファイルを1時間毎に更新すれば1時間毎の更新日時が返されると思うのですが。<br />更新日時を変更するソフトウェアを使って試してみるのもいいかもしれません。<br />ただわからないのはさわっていないファイルのLast-Modifiedが秒単位の相違で返される点ですね。<br /><br />環境変数は SCRIPT_FILENAME でいいと思います。<br /><br />差し支えなければsitemap.xmlやrss.xmlを自動生成するソフトウェアを教えていただけますか？<br />それとftpかscpの使用されてるソフトウェア、どこのサーバなのか。<br />こちらはさくらのサーバでphpはcgi-modeなので検証できます。<br /><br /><br /><br /># 1点気になるのですが、gmdate()はグリニッジ標準時を返すはずなのに<br /># 1970-01-01 09:00:00 と日本時間を返しているように見えます。</div>
			</td>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-347.html">whatsthestory</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post669.html#post669" name="post669" rel="nofollow">#11</a> 2010 年 9 月 6 日(月) 17:22</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 9 2010</div>
				<div class="field">返信数: 17</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">nullaさま、仰るとおりで解決に向かっているようです！<br /><br />どうやらUTF-8のボム無しにしたつもりのlast-modified.php（nullaさまご指南のソースが入った)が、何故かShift-JISか何かに変わってしまっていたのが原因なのか、改めてUTFに保存しなおししてアップしたら、正常になったみたいです。<br />last-modified.phpを仕込んだ.phpファイルだけが過去の日付になっており、かつ、それぞれアップした日時になっているようです。<br />仕込んでいない.phpファイルは相変わらずアップした日時が出ていました。<br />EmEditorでUTF-8のボム無しにした外部ファイルを複製して作成しているのですが、何故だか勝手にUTFでない形式に変わることがちょこちょこあって、どうやらこれが原因かと感じております。<br /><br /># 1点気になるのですが、gmdate()はグリニッジ標準時を返すはずなのに<br /># 1970-01-01 09:00:00 と日本時間を返しているように見えます。<br /><br />これも本件によって解決したもようです。<br /><br /><br />全ファイルにinclude_once記述をやっていこうと思うのですが、どうせやるならば<br />「どの階層のウェブページ（.phpファイル）を開いても、include_onceやincludeの外部ファイルを指定するパスが一定で良い方法」、<br />つまり、階層が変わっても.phpファイルに記述するソースを一切変えずにいれる方策を解決してから、全ファイルに適用が必要な場合を想定して本件の記述も同時にやってしまおうと思っております。<br /><br />何度もアドバイス（というかもはや正解そのもの）をしていただき、本当に助かりました！<div class="editinfo">&laquo; 最終編集者 <a href="profile-347.html">whatsthestory</a> 日時 2010 年 9 月 6 日(月) 17:24. &raquo;</div></div>
			</td>
		</tr>

	</table>
	<p id="toolbarbottom"> </p>
	<p id="pagelinksbottom">ページ: 1</p>
	<div id="bottomfix"></div>
	<p id="actionlinks"></p>

	<p class="locationbar">
		&bull; <a href="index.html">日本PHPユーザ会 掲示板</a> &raquo; <a href="forum-2.html">PHP事はじめ</a> &raquo; PHPがCGIモードのサーバでもLast-Modifiedを取得するには？
	</p>
	
	<p id="linkbar">
	</p>
	
	
	
	
	<p id="bottom">
		日本PHPユーザ会 掲示板 は <a href="http://www.usebb.net">UseBB 1 フォーラムソフトウェア</a> を使用しています
	</p>
	<div id="bottom-shadow"></div>
	
	</div>
	</div>
	</div>
</body>
</html>