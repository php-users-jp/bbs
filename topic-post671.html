<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja" dir="ltr">
<head>
	<title>日本PHPユーザ会 掲示板: PHP事はじめ &raquo; includeについて</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="description" content="日本PHPユーザ会運営の掲示板です。※ただいまテスト運用中です。" />
	<meta name="keywords" content="php,web,php.gr.jp,community,usebb" />
	<link rel="stylesheet" type="text/css" href="./templates/phpgrjp0.3/styles.css" />
	<link rel="shortcut icon" href="./templates/phpgrjp0.3/gfx/usebb.ico" />
	<link rel="alternate" type="application/rss+xml" title="日本PHPユーザ会 掲示板 RSS フィード" href="rss.xml" />
	<script type="text/javascript" src="sources/javascript.js"></script>
</head>
<body onload="javascript:init_external()">
	<div id="pagebox-bg">
	<div id="shadow-left">
	<div id="shadow-right">
	
	<p id="logo"><a href="index.html"><img src="./templates/phpgrjp0.3/gfx/usebb.png" alt="UseBB" title="ホーム" /></a></p>
	<h1 id="boardname"><span id="line">日本PHPユーザ会 掲示板</span></h1>
	<h2 id="boarddescr">日本PHPユーザ会運営の掲示板です。※ただいまテスト運用中です。</h2>
	
	<div id="topmenu"><ul>
		<li><a href="index.html">ホーム</a></li><li><a href="panel-register.html">登録</a></li><li><a href="faq.html">FAQ</a></li><li><a href="search.html">検索</a></li><li><a href="active.html">活発なトピック</a></li><li><a href="panel-login.html">ログイン</a></li>
	</ul></div>
	<div id="topmenu-shadow"></div>
	
	<p class="locationbar">
		&bull; <a href="index.html">日本PHPユーザ会 掲示板</a> &raquo; <a href="forum-2.html">PHP事はじめ</a> &raquo; includeについて
	</p>

	<h3 id="forumname"><a href="topic-231.html">includeについて</a></h3>
	<p id="forummods"></p>
	<p id="toolbartop"> </p>
	<p id="pagelinkstop">ページ: 1</p>
	<table class="maintable">
		<tr>
			<th>投稿者</th>
			<th>投稿</th>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-342.html">sta</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post637.html#post637" name="post637" rel="nofollow">#1</a> 2010 年 7 月 28 日(水) 19:28</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 7 2010</div>
				<div class="field">返信数: 5</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">サイトの共有部分のメーニュー等を　&lt;?php include ’xxxxx.php'; ?&gt; を使い表示させたいのですが、各ページの階層が変わっても　xxxxx.phpに書いてあるリンクが、階層に合わせて変化しないため、うまく利用できません。これは階層毎のxxxxx.phpを作らなければいけないのでしょうか？<br /><br />それともうまくできる方法が有りますでしょうか。<br /><br />素人質問で申し訳ございませんが、ご存じの方いらっしゃいましたら教えて頂けますでしょうか。</div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-246.html">nulla</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post638.html#post638" name="post638" rel="nofollow">#2</a> 2010 年 7 月 29 日(木) 11:41</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 8 2009</div>
				<div class="field">返信数: 103</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">こんにちは。<br /><br />ドメインを省いた絶対パスのリンクにしてみては？<br /><br /><br />追記<br />ここのテストでのマルチはいいんだけどね。<br /><a href="http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1244376962" title="http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1244376962" rel="external">http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1244376962</a><br />途中で文章が途切れているのが気になる。<div class="editinfo">&laquo; 最終編集者 <a href="profile-246.html">nulla</a> 日時 2010 年 7 月 29 日(木) 11:48. &raquo;</div></div>
			</td>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-342.html">sta</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post639.html#post639" name="post639" rel="nofollow">#3</a> 2010 年 7 月 29 日(木) 21:07</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 7 2010</div>
				<div class="field">返信数: 5</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">&lt;?php include 'http://△△△.○/○xxxxx.php'; ?&gt;<br />としても問題ないのでしょうか？</div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-342.html">sta</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post640.html#post640" name="post640" rel="nofollow">#4</a> 2010 年 7 月 29 日(木) 21:07</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 7 2010</div>
				<div class="field">返信数: 5</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">間違えました。<br />&lt;?php include 'http://△△△.○○/xxxxx.php'; ?&gt;</div>
			</td>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-246.html">nulla</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post641.html#post641" name="post641" rel="nofollow">#5</a> 2010 年 7 月 30 日(金) 0:10</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 8 2009</div>
				<div class="field">返信数: 103</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">こんばんは。<br /><br />&gt; xxxxx.phpに書いてあるリンクが、階層に合わせて変化しないため、うまく利用できません。<br />とありましたので、htmlのa要素のことかと思っていたのですが違うのでしょうか？<br /><br /># すでに回答はあちらにあるようですが。</div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-342.html">sta</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post642.html#post642" name="post642" rel="nofollow">#6</a> 2010 年 7 月 30 日(金) 18:14</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 7 2010</div>
				<div class="field">返信数: 5</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">スイマセン。テストしていたら、xxxx.php内のリンクは問題ではなく、そもそもxxxx.phpが見つからないという事でした。</div>
			</td>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-246.html">nulla</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post643.html#post643" name="post643" rel="nofollow">#7</a> 2010 年 7 月 30 日(金) 19:53</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 8 2009</div>
				<div class="field">返信数: 103</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">こんばんは。<br />階層が異なるため xxxxx.php が見つからないということですか。<br />解決策は3つ程ありますね。<br /><br />1. <br />php.ini の include_path にxxxxx.phpが存在する絶対ディレクトリパスを追加設定し<br /><br />include(&quot;xxxxx.php&quot;);<br /><br />2. <br />ini_setを使って上記と同様のことをする。<br /><br />ini_set('include_path', 'xxxxx.phpが存在する絶対ディレクトリパス' . PATH_SEPARATOR . ini_get('include_path'));<br />include(&quot;xxxxx.php&quot;);<br /><br />3. <br />絶対ディレクトリパスで include する。<br /><br />include(&quot;xxxxx.phpが存在する絶対ディレクトリパス/xxxxx.php&quot;);<br /><br /><br />相対パスを入れると4つかな。<br /><br /># すでに回答はあちらにあるようですが。</div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-347.html">whatsthestory</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post670.html#post670" name="post670" rel="nofollow">#8</a> 2010 年 9 月 7 日(火) 11:44</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 9 2010</div>
				<div class="field">返信数: 17</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">本スレと同様の問題を抱えておりますので、スレの乱立を避けるため、済みませんがstaさんのスレに便乗させていただきます。<br /><br />当方も、上述のリンク先のYahoo知恵袋を検索してみつけてはいたのですが、ひとつ試すのにわからない点がありましてお尋ねします。<br />以下が内容ですが、<br /><br />------------------------------------------------------------<br />絶対パスを使うのが一番楽でしょう<br />ドメインが変わっても使えるようにトップのアドレスを<br />&#36;topURL=&quot;http//www.○○○.△△&quot;;<br />と、設定して<br />リンクの部分は<br />echo &quot;&lt;a href=&quot;.&#36;topURL.&quot;/****/**.html&gt;****&lt;/a&gt;&quot;;<br />とすればよいでしょう<br />------------------------------------------------------------<br /><br />これが正のひとつでなおかつ非常にカンタンそうに見えるので採用したいのですが、<br />プログラミングが無知なためうまくいきませんでした。どのようにすればいけるでしょうか？<br /><br /><br />【　おこなったこと　】<br />事前情報<br />hontai.php・・・・・外部の共通部分の.phpファイルを記述する元のWebページ<br />header.php・・・・・外部の.phpファイル。ヘッダーのソースが記述されてある<br /><br /><br />●「&#36;topURL～」を記述するファイルは、hontai.phpの一番最初に記述した<br /><br />　以下のように記述した。<br />　&lt;?php &#36;topURL=&quot;http//www.mysite.com&quot;; ?&gt;<br /><br />　一番最初に記述したのは、それまで一番最初に記述していたのが<br />　いきなりinclude_once記述（last-modifiedを取得するためのソース）だったから、<br />　ここで&#36;topURLが使われてしまうので、それよりも先に記述しないといけないと<br />　思った。<br /><br />●hontai.phpのinclude_onceに以下のように記述した<br /><br />&lt;?php include_once(&quot;.&#36;topURL./cmn/inc/header.php&quot;); ?&gt;<br /><br />Yahoo知恵袋では、ここがアンカーリンクになっていた。アンカーリンクも<br />本件のようにディレクトリを気にせず常にドメイン直下(ROOT？)から<br />記述することができれば良いのだが、「まずは外部ファイルへのパスを」<br />と思い、このように実験した。<br /><br />●エラー内容<br />Warning: include_once(.http//www.mysite.com./cmn/inc/header.php) [function.include-once]: failed to open stream: No such file or directory in /serverpass/mysite.com/item/hontai.php on line 19<br /><br />Warning: include_once() [function.include]: Failed opening '.http//www.mysite.com./cmn/inc/header.php' for inclusion (include_path='.:') in /serverpass/mysite.com/item/hontai.php on line 19<br /><br /><br />この失敗を受けて、&quot;でくくるのがいけないのか?と思い、&quot;をなしにして以下のようにやってみましたがダメでした。<br /><br />hontai.php<br />&lt;?php include_once(&quot;&#36;topURL/cmn/inc/header.php&quot;); ?&gt;<br /><br />この場合のエラー内容<br />Warning: Cannot modify header information - headers already sent by (output started at /serverpass/mysite.com/item/hontai.php:3) in /serverpass/mysite.com/cmn/inc/last-mod.php on line 4<br /><br />Warning: include_once() [function.include-once]: URL file-access is disabled in the server configuration in /serverpass/mysite.com/item/hontai.php on line 19<br /><br />Warning: include_once(http://www.mysite.com/cmn/inc/header.php) [function.include-once]: failed to open stream: no suitable wrapper could be found in /serverpass/mysite.com/item/hontai.php on line 19<br /><br />Warning: include_once() [function.include]: Failed opening '<a href="http://www.mysite.com/cmn/inc/header.php" title="http://www.mysite.com/cmn/inc/header.php" rel="external">http://www.mysite.com/cmn/inc/header.php</a>' for inclusion (include_path='.:') in /serverpass/mysite.com/item/hontai.php on line 19<br /><br /><br />どなたか解決策おわかりの方いらっしゃいましたら何卒宜しくお願いいたします。<div class="editinfo">&laquo; 最終編集者 <a href="profile-347.html">whatsthestory</a> 日時 2010 年 9 月 7 日(火) 11:55. &raquo;</div></div>
			</td>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-246.html">nulla</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post671.html#post671" name="post671" rel="nofollow">#9</a> 2010 年 9 月 7 日(火) 13:56</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 8 2009</div>
				<div class="field">返信数: 103</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">こんにちは。<br />すでに終わっている（と思われる）トピックなので新規でよいと思いますよ。<br /><br /><br />&gt; &lt;?php include_once(&quot;.&#36;topURL./cmn/inc/header.php&quot;); ?&gt;<br />これは<br />&lt;?php include_once(&quot;.http//www.mysite.com./cmn/inc/header.php&quot;); ?&gt;<br />となるのですが、元記事の『 . （ドット）』の意味はご存知ですよね？<br /><br />仮に.（ドット）をなくしても<br />&lt;?php include_once(&quot;http//www.mysite.com/cmn/inc/header.php&quot;); ?&gt;<br />header.phpをphpのソースとして取り込むことはできませんよ。<br />phpで処理した結果が取り込まれます。<br /><br />&gt; どのようにすればいけるでしょうか？<br />/（root）からの絶対パスを指定する。<br />もしくはディレクトリ毎に相対パス指定ですね。<br /><br /><br />おっと、ここまで書いてたら編集された。けれど本質は同じなのでこのまま投稿します。<br />サーバサイドとクライアントサイドの区別ができないと、はまりますよ。</div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-347.html">whatsthestory</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post672.html#post672" name="post672" rel="nofollow">#10</a> 2010 年 9 月 7 日(火) 15:25</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 9 2010</div>
				<div class="field">返信数: 17</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">nullaさま、毎度ありがとうございますm(_ _)m<br /><br />&gt; すでに終わっている（と思われる）トピックなので新規でよいと思いますよ。<br /><br />そうでしたか、新規で良かったでしたか。<br /><br /><br />&gt; となるのですが、元記事の『 . （ドット）』の意味はご存知ですよね？<br /><br />HTMLとしてのリンクの記述方法は理解しているのですが、その場合、ドットなんて<br />普通使いませんよね。そういうHTMLでの意味ならばわかるのですが<br />その理解でいいのかまではわかっておりません。<br />HTMLとしてならば当然ドットなんて入るのはおかしいと感じたんですが、<br />PHPのソース内だと違う意味を持つのかなぁと思いまして汗；<br />でなければ知恵袋の投稿者もわざわざドットでくくるなんてするはずないだろうと<br />いう認識でGOしました(苦笑<br /><br /><br />&gt; 仮に.（ドット）をなくしても<br />&gt; &lt;?php include_once(&quot;http//www.mysite.com/cmn/inc/header.php&quot;); ?&gt;<br />&gt; header.phpをphpのソースとして取り込むことはできませんよ。<br />&gt; phpで処理した結果が取り込まれます。<br /><br />なるほど、ドットをリンクURL内に入れるのは間違っていただけなんですね。<br />しかも、HTML的に正しくリンクURLを書いたとしてもPHPでは動かないんですねぇ。。。<br />ふぅ～ぬ。。。<br /><br /><br />&gt;&gt; どのようにすればいけるでしょうか？<br />&gt; /（root）からの絶対パスを指定する。<br />&gt; もしくはディレクトリ毎に相対パス指定ですね。<br /><br />はい！　実はたった今、何とかできたようなんです！<br />スレ投稿後、自分でもネットで探し回ってあれテストしてダメ、これテストしてダメ、<br />とやり続けて、サーバ業者にダメもとで電話したりして、<br />自分としては奇跡的に解決いたしました・・・<br /><br />ROOT権限ないサーバですが、ドメイン直下のディレクトリにphp.iniなるものを<br />つくり、includeのパスの呪文を記述することによって、できましたぁ。。。<br />ここのスレに自己解決レスつけようかとしてリロードしましたところ<br />nullaさまからご回答が！　ご面倒おかけいたしました。本当にありがとうございます！<br /><br />includeパスの汎用パス化ができたので、あとはlinkパスの汎用パス化と、画像リンクのそれの調査を頑張ります！<div class="editinfo">&laquo; 最終編集者 <a href="profile-347.html">whatsthestory</a> 日時 2010 年 9 月 7 日(火) 15:36. &raquo;</div></div>
			</td>
		</tr>

		<tr class="tr1">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-246.html">nulla</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post673.html#post673" name="post673" rel="nofollow">#11</a> 2010 年 9 月 7 日(火) 15:50</div>
			</td>
		</tr>
		<tr class="tr1">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 8 2009</div>
				<div class="field">返信数: 103</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">気になるので1点。<br /><br />二重引用符外の.（ドット）は文字列の連結を意味します。<br />（プログラムだからドットではなくてピリオドかも）<br /><br />&#36;topURL=&quot;http//www.○○○.△△&quot;;<br />echo &quot;&lt;a href=&quot;.&#36;topURL.&quot;/****/**.html&gt;****&lt;/a&gt;&quot;;<br />これはクライアントサイド（またはUA、同じだけど）に<br />&lt;a href=http//www.○○○.△△/****/**.html&gt;****&lt;/a&gt;<br />と出力します。</div>
			</td>
		</tr>

		<tr class="tr2">
			<td class="postername">
				<div class="posternamecontainer"><a href="profile-347.html">whatsthestory</a></div>
			</td>
			<td class="postinfo">
				<div class="postlinks"></div>
				<div class="postdate"><a href="topic-post674.html#post674" name="post674" rel="nofollow">#12</a> 2010 年 9 月 7 日(火) 16:09</div>
			</td>
		</tr>
		<tr class="tr2">
			<td class="posterinfo">
				会員
				<div class="avatar"></div>
				<div class="field">登録者: 9 2010</div>
				<div class="field">返信数: 17</div>
				<div class="field"></div>
			</td>
			<td class="postcontent">
				<div class="post">すみません、ほんとにありがとうございますm(_ _)m<br />おかげさまで、/（root）からの絶対パスを指定する、php.iniにたどり着いた気がいたします。<br /><br />&gt; 二重引用符外の.（ドット）は文字列の連結を意味します。<br />&gt; （プログラムだからドットではなくてピリオドかも）<br /><br />なるほど、ピリオドかぁ。つなぐのですね。JavaScriptの「,」みたいなものなんですね。<br />勉強になります。<br /><br /><br />&gt;&gt; &#36;topURL=&quot;http//www.○○○.△△&quot;;<br />&gt;&gt; echo &quot;&lt;a href=&quot;.&#36;topURL.&quot;/****/**.html&gt;****&lt;/a&gt;&quot;;<br />&gt; これはクライアントサイド（またはUA、同じだけど）に<br />&gt; &lt;a href=http//www.○○○.△△/****/**.html&gt;****&lt;/a&gt;<br />&gt; と出力します。<br /><br />私も今日「echo」とは何者だ？というのを調べていたのですが、echo内に記述したソースを<br />ブラウザに出力することなんですね。勉強になります。<br />PHPのコードを書くためにechoを使う場合が必要になってくるのだと想像しております。</div>
			</td>
		</tr>

	</table>
	<p id="toolbarbottom"> </p>
	<p id="pagelinksbottom">ページ: 1</p>
	<div id="bottomfix"></div>
	<p id="actionlinks"></p>

	<p class="locationbar">
		&bull; <a href="index.html">日本PHPユーザ会 掲示板</a> &raquo; <a href="forum-2.html">PHP事はじめ</a> &raquo; includeについて
	</p>
	
	<p id="linkbar">
		<a href="members.html">会員一覧</a> &middot; <a href="members-staff.html">スタッフ一覧</a> &middot; <a href="rss.xml" id="rss-feed-icon"><img src="templates/phpgrjp0.3/gfx/rss.png" alt="RSS フィード" /></a><a href="rss.xml">RSS フィード</a>  &middot; <a href="mailto:webstaff@php.gr.jp">管理者へ連絡</a>
	</p>
	
	
	
	
	<p id="bottom">
		日本PHPユーザ会 掲示板 は <a href="http://www.usebb.net">UseBB 1 フォーラムソフトウェア</a> を使用しています
	</p>
	<div id="bottom-shadow"></div>
	
	</div>
	</div>
	</div>
</body>
</html>